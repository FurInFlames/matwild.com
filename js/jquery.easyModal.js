(function(b){var f={init:function(d){d=b.extend({top:"auto",autoOpen:!1,overlayOpacity:0.5,overlayColor:"#000",overlayClose:!0,overlayParent:"body",closeOnEscape:!0,closeButtonClass:".close",onOpen:!1,onClose:!1,zIndex:function(){return function(a){return-Infinity===a?0:a+1}(Math.max.apply(Math,b.makeArray(b("*").map(function(){return b(this).css("z-index")}).filter(function(){return b.isNumeric(this)}).map(function(){return parseInt(this,10)}))))},updateZIndexOnOpen:!0},d);return this.each(function(){var a=
d,e=b('<div class="lean-overlay"></div>'),c=b(this);e.css({display:"none",position:"fixed","z-index":a.updateZIndexOnOpen?0:a.zIndex(),top:0,left:0,height:"100%",width:"100%",background:a.overlayColor,opacity:a.overlayOpacity,overflow:"auto"}).appendTo(a.overlayParent);c.css({display:"none",position:"fixed","z-index":a.updateZIndexOnOpen?0:a.zIndex()+1,left:"50%",top:-1<parseInt(a.top,10)?a.top+"px":"50%"});c.bind("openModal",function(){var b=a.updateZIndexOnOpen?a.zIndex():parseInt(e.css("z-index"),
10),d=b+1;c.css({display:"block","margin-left":-(c.outerWidth()/2)+"px","margin-top":(-1<parseInt(a.top,10)?0:-(c.outerHeight()/2))+"px","z-index":d});e.css({"z-index":b,display:"block"});if(a.onOpen&&"function"===typeof a.onOpen)a.onOpen(c[0])});c.bind("closeModal",function(){c.css("display","none");e.css("display","none");if(a.onClose&&"function"===typeof a.onClose)a.onClose(c[0])});e.click(function(){a.overlayClose&&c.trigger("closeModal")});b(document).keydown(function(b){a.closeOnEscape&&27===
b.keyCode&&c.trigger("closeModal")});c.on("click",a.closeButtonClass,function(a){c.trigger("closeModal");a.preventDefault()});a.autoOpen&&c.trigger("openModal")})}};b.fn.easyModal=function(d){if(f[d])return f[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof d||!d)return f.init.apply(this,arguments);b.error("Method "+d+" does not exist on jQuery.easyModal")}})(jQuery);
